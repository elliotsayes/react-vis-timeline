{"version":3,"file":"timeline.js","names":["_react","_interopRequireWildcard","require","_esnext","_esnext2","_difference2","_interopRequireDefault","_intersection2","_each2","_assign2","_omit2","_keys2","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","_typeof","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf2","result","NewTarget","constructor","Reflect","construct","arguments","apply","_possibleConstructorReturn2","sham","Proxy","Boolean","valueOf","e","_classPrivateFieldInitSpec","privateMap","value","_checkPrivateRedeclaration","privateCollection","TypeError","noop","events","eventDefaultProps","_each","event","concat","_ref","Timeline","_Component","_inherits2","_super","props","_this","_classCallCheck2","_defineProperty2","_assertThisInitialized2","writable","React","createRef","DataSet","_createClass2","componentWillUnmount","timeline","destroy","componentDidMount","console","log","warn","VisTimelineCtor","_classPrivateFieldGet2","current","items","groups","options","_i","_events","length","eventHandler","on","init","shouldComponentUpdate","nextProps","_this$props","initialItems","initialGroups","selection","customTimes","currentTime","itemsChange","groupsChange","optionsChange","customTimesChange","selectionChange","currentTimeChange","setOptions","updateCustomTimes","updateSelection","selectionOptions","setCurrentTime","prevCustomTimes","_this2","customTimeKeysPrev","_keys","customTimeKeysNew","customTimeKeysToAdd","_difference","customTimeKeysToRemove","customTimeKeysToUpdate","_intersection","id","removeCustomTime","datetime","addCustomTime","setCustomTime","setSelection","_this$props2","_this$props2$selectio","_this$props2$animate","animate","timelineOptions","_omit","setWindow","start","end","animation","add","render","createElement","ref","Component","exports","_assign"],"sources":["../src/timeline.tsx"],"sourcesContent":["import React, { Component } from 'react';\nimport { DataSet } from 'vis-data/esnext';\nimport { Timeline as VisTimelineCtor } from 'vis-timeline/esnext';\nimport type {\n\tDateType,\n\tIdType,\n\tTimeline as VisTimeline,\n\tTimelineAnimationOptions,\n\tTimelineGroup,\n\tTimelineItem,\n\tTimelineOptions\n} from 'vis-timeline/types';\nimport 'vis-timeline/styles/vis-timeline-graph2d.min.css';\n\nimport _difference from 'lodash/difference';\nimport _intersection from 'lodash/intersection';\nimport _each from 'lodash/each';\nimport _assign from 'lodash/assign';\nimport _omit from 'lodash/omit';\nimport _keys from 'lodash/keys';\nimport type { CustomTime, SelectionOptions, TimelineEventsHandlers, TimelineEventsWithMissing } from './models';\n\nconst noop = function () {};\n\nconst events: TimelineEventsWithMissing[] = [\n\t'currentTimeTick',\n\t'click',\n\t'contextmenu',\n\t'doubleClick',\n\t'dragover',\n\t'drop',\n\t'mouseOver',\n\t'mouseDown',\n\t'mouseUp',\n\t'mouseMove',\n\t'groupDragged',\n\t'changed',\n\t'rangechange',\n\t'rangechanged',\n\t'select',\n\t'itemover',\n\t'itemout',\n\t'timechange',\n\t'timechanged',\n\t'markerchange',\n\t'markerchanged'\n];\n\nconst eventDefaultProps: TimelineEventsHandlers = {};\n_each(events, event => {\n\teventDefaultProps[`${event}Handler`] = noop;\n});\n\ntype Props = {\n\tinitialItems?: TimelineItem[];\n\tinitialGroups?: TimelineGroup[];\n\toptions?: TimelineOptions;\n\tselection?: IdType[];\n\tcustomTimes?: CustomTime[];\n\tselectionOptions?: SelectionOptions;\n\tanimate?: boolean | {};\n\tcurrentTime?: DateType;\n} & TimelineEventsHandlers;\n\nexport class Timeline extends Component<Props, {}> {\n\tstatic defaultProps = _assign(\n\t\t{\n\t\t\tinitialItems: [],\n\t\t\tgroups: [],\n\t\t\toptions: {},\n\t\t\tselection: [],\n\t\t\tcustomTimes: []\n\t\t},\n\t\teventDefaultProps\n\t);\n\n\tpublic timeline: Readonly<VisTimeline>;\n\tpublic readonly items: DataSet<TimelineItem>;\n\tpublic readonly groups: DataSet<TimelineGroup>;\n\n\t#ref = React.createRef<HTMLDivElement>();\n\n\tconstructor(props: Props) {\n\t\tsuper(props);\n\n\t\tObject.defineProperty(this, 'items', {\n\t\t\tvalue: new DataSet<TimelineItem>(),\n\t\t\twritable: false\n\t\t});\n\n\t\tObject.defineProperty(this, 'groups', {\n\t\t\tvalue: new DataSet<TimelineGroup>(),\n\t\t\twritable: false\n\t\t});\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.timeline.destroy();\n\t}\n\n\tcomponentDidMount() {\n\t\t// check if timeline property is defined\n\t\tconsole.log('timeline', this.timeline);\n\t\tif (this.timeline) {\n\t\t\tconsole.warn('react-vis-timeline: timeline property is already defined. returning');\n\t\t\treturn;\n\t\t}\n\n\t\tObject.defineProperty(this, 'timeline', {\n\t\t\tvalue: new VisTimelineCtor(this.#ref.current, this.items, this.groups, this.props.options),\n\t\t\twritable: false\n\t\t});\n\n\t\tfor (const event of events) {\n\t\t\tconst eventHandler = this.props[`${event}Handler`];\n\t\t\tif (eventHandler !== noop) {\n\t\t\t\tthis.timeline.on(event, eventHandler);\n\t\t\t}\n\t\t}\n\n\t\tthis.init();\n\t}\n\n\tshouldComponentUpdate(nextProps: Props) {\n\t\tconst { initialItems, initialGroups, options, selection, customTimes, currentTime } = this.props;\n\n\t\tconst itemsChange = initialItems !== nextProps.initialItems;\n\t\tconst groupsChange = initialGroups !== nextProps.initialGroups;\n\t\tconst optionsChange = options !== nextProps.options;\n\t\tconst customTimesChange = customTimes !== nextProps.customTimes;\n\t\tconst selectionChange = selection !== nextProps.selection;\n\t\tconst currentTimeChange = currentTime !== nextProps.currentTime;\n\n\t\tif (groupsChange) {\n\t\t\tconsole.warn(\n\t\t\t\t\"react-vis-timeline: you are trying to change 'initialGroups' prop. Please use the public api exposed with in ref\"\n\t\t\t);\n\t\t}\n\n\t\tif (itemsChange) {\n\t\t\tconsole.warn(\n\t\t\t\t\"react-vis-timeline: you are trying to change 'initialItems' prop. Please use the public api exposed with in ref\"\n\t\t\t);\n\t\t}\n\n\t\tif (optionsChange) {\n\t\t\tthis.timeline.setOptions(nextProps.options);\n\t\t}\n\n\t\tif (customTimesChange) {\n\t\t\tthis.updateCustomTimes(customTimes, nextProps.customTimes);\n\t\t}\n\n\t\tif (selectionChange) {\n\t\t\tthis.updateSelection(nextProps.selection, nextProps.selectionOptions);\n\t\t}\n\n\t\tif (currentTimeChange) {\n\t\t\tthis.timeline.setCurrentTime(nextProps.currentTime);\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tupdateCustomTimes(prevCustomTimes: CustomTime[], customTimes: CustomTime[]) {\n\t\t// diff the custom times to decipher new, removing, updating\n\t\tconst customTimeKeysPrev = _keys(prevCustomTimes);\n\t\tconst customTimeKeysNew = _keys(customTimes);\n\t\tconst customTimeKeysToAdd = _difference(customTimeKeysNew, customTimeKeysPrev);\n\t\tconst customTimeKeysToRemove = _difference(customTimeKeysPrev, customTimeKeysNew);\n\t\tconst customTimeKeysToUpdate = _intersection(customTimeKeysPrev, customTimeKeysNew);\n\n\t\t_each(customTimeKeysToRemove, id => this.timeline.removeCustomTime(id));\n\t\t_each(customTimeKeysToAdd, id => {\n\t\t\tconst datetime = customTimes[id].datetime;\n\t\t\tthis.timeline.addCustomTime(datetime, id);\n\t\t});\n\t\t_each(customTimeKeysToUpdate, id => {\n\t\t\tconst datetime = customTimes[id].datetime;\n\t\t\tthis.timeline.setCustomTime(datetime, id);\n\t\t});\n\t}\n\n\tupdateSelection(selection: IdType | IdType[], selectionOptions: SelectionOptions): void {\n\t\tthis.timeline.setSelection(selection, selectionOptions as Required<SelectionOptions>);\n\t}\n\n\tinit() {\n\t\tconst {\n\t\t\tinitialItems,\n\t\t\tinitialGroups,\n\t\t\toptions,\n\t\t\tselection,\n\t\t\tselectionOptions = {},\n\t\t\tcustomTimes,\n\t\t\tanimate = true,\n\t\t\tcurrentTime\n\t\t} = this.props;\n\n\t\tlet timelineOptions = options;\n\n\t\tif (animate) {\n\t\t\t// If animate option is set, we should animate the timeline to any new\n\t\t\t// start/end values instead of jumping straight to them\n\t\t\ttimelineOptions = _omit(options, 'start', 'end');\n\n\t\t\tthis.timeline.setWindow(options.start, options.end, {\n\t\t\t\tanimation: animate\n\t\t\t} as TimelineAnimationOptions);\n\t\t}\n\n\t\tthis.timeline.setOptions(timelineOptions);\n\n\t\tif (initialGroups?.length > 0) {\n\t\t\tthis.groups.add(initialGroups);\n\t\t}\n\n\t\tif (initialItems?.length > 0) {\n\t\t\tthis.items.add(initialItems);\n\t\t}\n\n\t\tthis.updateSelection(selection, selectionOptions);\n\n\t\tif (currentTime) {\n\t\t\tthis.timeline.setCurrentTime(currentTime);\n\t\t}\n\n\t\tthis.updateCustomTimes([], customTimes);\n\t}\n\n\trender() {\n\t\treturn <div ref={this.#ref} />;\n\t}\n}\n"],"mappings":"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"}